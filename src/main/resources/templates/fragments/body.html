<!DOCTYPE html>
<html lang="pt_BR" 
    xmlns:th="www.thymeleaf.org" 
    th:import="org.thymeleaf.spring5.util.SpringSelectedValueComparator">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fragments Body</title>
</head>
<body>
    <!-- Logo + título da página -->
    <div class="logo-bar mb-0 p-0" th:fragment="logo(titulo)">
        <span class="logo-font">
            <img th:src="@{/imagens/header-t.png}" th:text="${titulo}"/> 
        </span>
    </div>

    <!-- Menu da página -->
    <div class="navbar-nav" th:fragment="menu">
        <a th:classappend="${menu == 'home'} ? 'active'" class="nav-item nav-link" th:href="@{/home}">Home</a>
        <a th:classappend="${menu == 'estudantes'} ? 'active'" class="nav-item nav-link" th:href="@{/estudantes}">Estudantes</a>
        <a th:classappend="${menu == 'instituicoes'} ? 'active'" class="nav-item nav-link" th:href="@{/instituicoes}">Instituição</a>
        <a th:classappend="${menu == 'declaracoes'} ? 'active'" class="nav-item nav-link" th:href="@{/declaracoes/formDecEstu}">Declaração</a>
        <a th:classappend="${menu == 'periodos'} ? 'active'" class="nav-item nav-link" th:href="@{/periodos}">Período Letivo</a>
    </div>

    <!-- Botão Sair da página Home -->
    <div style="margin-right: 5px;" th:fragment="sair(titulo)">
        <!-- th:text="${titulo}" -->
        <a th:href="@{/home}">
            <button class="btn btn-outline-secondary my-0 my-sm-0" type="submit" title="Sair">
                <img th:src="@{/imagens/sair.png}" alt="Sair"/>
            </button>
        </a>
    </div>

    <!-- Botão Voltar dos Formulários Instituição / Não foi possível usar depois de aplicar o Layout -->
    <div style="margin-right: 5px;" th:fragment="voltarInst(titulo)">
        <a class="nav-item nav-link" th:href="@{/instituicoes}">
            <button class="btn btn-outline-secondary my-2 my-sm-0" th:text="${titulo}">
                Voltar
            </button>
        </a>
    </div>

    <!-- Botão Voltar dos Formulários Declaração / Não foi possível usar depois de aplicar o Layout -->
    <div style="margin-right: 5px;" th:fragment="voltarDecl(titulo)">
        <a class="nav-item nav-link" th:href="@{/declaracoes}">
            <button class="btn btn-outline-secondary my-2 my-sm-0" th:text="${titulo}">Voltar</button>
        </a>
    </div>

    <!-- Botão Voltar dos Formulários Estudante / Não foi possível usar depois de aplicar o Layout-->
    <div style="margin-right: 5px;" th:fragment="voltarEstu(titulo)">
        <a class="nav-item nav-link" th:href="@{/estudantes}">
            <button class="btn btn-outline-secondary my-2 my-sm-0" th:text="${titulo}">Voltar</button>
        </a>
    </div>

    <!-- Botão Voltar dos Formulários Período Letivo / Não foi possível usar depois de aplicar o Layout -->
    <div style="margin-right: 5px;" th:fragment="voltarPeri(titulo)">
        <a class="nav-item nav-link" th:href="@{/periodos}">
            <button class="btn btn-outline-secondary my-2 my-sm-0" th:text="${titulo}">Voltar</button>
        </a>
    </div>

    <!-- Título do card da página+ -->
    <div class="card-header" th:fragment="titulo(titulo)" th:text="${titulo}"></div>

    <!-- Mensagem de Error/Sucesso do Formulário -->
    <div style="margin-right: 5px;" th:fragment="mensagens">
        <div th:text="${errorMensagem}" 
            th:if="${errorMensagem ne null}" 
            class="alert alert-danger" ></div>

        <div th:text="${succesMensagem}" 
            th:if="${succesMensagem ne null}" 
            class="alert alert-success" ></div>
    </div>

    <!-- Dados do formulário de Estudante -->
    <div class="navbar-nav" th:fragment="formEstu">
        <input type="hidden" required th:field="*{id}" />
        <div class="form-group mx-sm-0 mb-2">
            <label for="nome" class="form-label">Nome:</label>
            <input type="text" class="form-control" th:field="*{nome}" maxlength="50"/>
            <p th:if="${#fields.hasErrors('nome')}" th:errorclass="error" th:errors="*{nome}"></p>
        </div>
        <div class="form-group mx-sm-0 mb-2">
            <label for="matricula" class="form-label">Matrícula:</label>
            <input type="text" class="form-control" th:field="*{matricula}" />
            <p th:if="${#fields.hasErrors('matricula')}" th:errorclass="error" th:errors="*{matricula}"></p>
        </div>
         <div class="form-group mx-sm-0 mb-2">
            <label for="dataNascimento" class="form-label">Data Nascimento:</label>
            <input type="date" class="form-control" th:field="*{dataNascimento}" />
            <p th:if="${#fields.hasErrors('dataNascimento')}" th:errorclass="error" th:errors="*{dataNascimento}"></p> 
        </div>
        <div class="form-group mx-sm-0 mb-2">
            <label for="email" class="form-label">E-mail:</label>
            <input type="email" th:field="*{email}" class="form-control"/>
            <p th:if="${#fields.hasErrors('email')}" th:errorclass="error" th:errors="*{email}"></p>
        </div>
    </div>

    <!-- Dados do formulário de Periodo -->
    <div class="navbar-nav" th:fragment="formPeri">
        <input type="hidden" required th:field="*{id}" />
        <label for="ano" class="form-label">Ano:</label>
            <input type="number" class="form-control" required th:field="*{ano}" maxlength="4"/></br>
        <label for="periodoLetivo" class="form-label">Período Letivo:</label>
            <input type="text" class="form-control" required th:field="*{periodoLetivo}" /></br>
        <label for="dataInicio" class="form-label">Data Início:</label>
            <input type="date" class="form-control" required th:field="*{dataInicio}" /></br>
        <label for="dataFim" class="form-label">Data Fim:</label>
            <input type="date" class="form-control" required th:field="*{dataFim}" /></br>
    </div>

    <!-- Dados do formulário de Declaração -->
    <div class="navbar-nav" th:fragment="formDecl">
        <input type="hidden" required th:field="*{id}" />
        <div class="form-group mx-sm-0 mb-2">
            <label for="dataRecebimento" class="form-label">Data Recebimento:</label>
            <input type="date" class="form-control" th:field="*{dataRecebimento}" />  
            <p th:if="${#fields.hasErrors('dataRecebimento')}" th:errors="*{dataRecebimento}" th:errorclass="error"></p>
        </div>
        <div>
            <label for="observacao" class="form-label">Observação:</label>
            <input type="text" class="form-control" th:field="*{observacao}" />
            <p th:if="${#fields.hasErrors('observacao')}" th:errors="*{observacao}" th:errorclass="error"></p>
        </div>
    </div>   
    
    <!-- Dados do formulário de Instituição -->
    <div class="navbar-nav" th:fragment="formInst">
        <input type="hidden" required th:field="*{id}" />
        <div>
            <label for="nome" class="form-label">Nome:</label>
            <input type="text" class="form-control" th:field="*{nome}" maxlength="50"/>
            <p th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}" th:errorclass="error"></p>
        </div>
        <div>
            <label for="sigla" class="form-label">Sigla:</label>
            <input type="text" class="form-control" th:field="*{sigla}" />
            <p th:if="${#fields.hasErrors('sigla')}" th:errors="*{sigla}" th:errorclass="error"></p>
        </div>
        <div>
            <label for="fone" class="form-label">Fone:</label>
            <input type="text" class="form-control" th:field="*{fone}" />
            <p th:if="${#fields.hasErrors('fone')}" th:errors="*{fone}" th:errorclass="error"></p>
        </div>
    </div>
</body>
</html>